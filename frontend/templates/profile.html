<div onload="onLoad()" class="profile-container">
    <!-- Header -->
    <header class="profile-header">
        <div class="header-content">
            <div class="user-avatar">
                <div class="avatar">
                    <img src="../profile.svg" alt="Default User Avatar">
                </div>
            </div>
            <div class="user-info">
                <h1 class="user-title">Ping Pong Master</h1>
                <p class="username">PingPongMaster</p>
                <div class="user-level">
                    <span class="level-text" data-i18n="profile.header.level">Level</span>
                    <span class="level-text">42</span>
                    <div class="level-bar">
                        <div class="level-progress" data-progress="42"></div>
                    </div>
                </div>
            </div>
            <div class="header-stats">
                <div class="stat-item">
                     <div class="tooltip-container">
                        <i class="fa-solid fa-fire gradient-icon"></i>
                        <div class="tooltip-popup" data-i18n="profile.streak.curr">Current Streak</div>
                    </div>
                    <span class="stat-value" id="current-streak">18</span>
                </div>
                <div class="stat-item">
                    <div class="tooltip-container">
                        <i class="fa-solid fa-gamepad gradient-icon"></i>
                        <div class="tooltip-popup" data-i18n="profile.header.tgames">Total Games</div>
                    </div>
                    <span class="stat-value" id="total-games">234</span>
                </div>
                <div class="stat-item">
                        <div class="tooltip-container">
                            <i class="fa-solid fa-medal gradient-icon"></i>
                        <div class="tooltip-popup" data-i18n="profile.header.winrate">Win Rate</div>
                    </div>
                        <span class="stat-value" id="win-rate">100%</span>
                </div>
            </div>
        </div>
    </header>
    <!-- Navigation -->
    <div class="profile-nav">
        <button class="tab-btn active" data-tab="overview"><i class="fa-solid fa-grip-vertical"></i> <span data-i18n="profile.sections.dashboard">Dashboard</span> <span class="btn-glow"></span></button>
        <button class="tab-btn" data-tab="performance"><i class="fa-solid fa-chart-line"></i> <span data-i18n="profile.sections.performance">Performans</span> <span class="btn-glow"></span></button>
        <button class="tab-btn" data-tab="tournaments"><i class="fa-solid fa-trophy"></i> <span data-i18n="profile.sections.thishtory">Turnuva Ge√ßmi≈üi</span> <span class="btn-glow"></span></button>
        <button class="tab-btn" data-tab="match_history"><i class="fa-solid fa-clock-rotate-left"></i> <span data-i18n="profile.sections.mhistory">Ma√ß Ge√ßmi≈üi</span> <span class="btn-glow"></span></button>
        <button class="tab-btn" data-tab="achievements"><i class="fa-solid fa-star"></i> <span data-i18n="profile.sections.achievements">Achievements</span> <span class="btn-glow"></span></button>
    </div>
    <!-- Content Tabs -->
    <main class="profile-content">
        <!-- Overview Tab -->
        <section id="overview" class="tab-content active">
            <div class="stats-grid">
                <!-- Performance Cards -->
                <div class="stat-card performance-card">
                    <h3><i class="fa-solid fa-bullseye"></i> <span data-i18n="profile.dash.psum.title">Performans √ñzeti</span></h3>
                    <div class="performance-stats">
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.mwon">Kazanƒ±lan Ma√ßlar</span>
                            <span id="mwon" class="perf-value win">171</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.mlose">Kaybedilen Ma√ßlar</span>
                            <span id="mlost" class="perf-value loss">63</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.mdur">Ortalama Ma√ß S√ºresi</span>
                            <span id="mdur-average" class="perf-value">4:32</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.gdur">Toplam Oyun S√ºresi</span>
                            <span id="total-play-time" class="perf-value">18h 45m</span>
                        </div>
                    </div>
                </div>
                <!-- Streak Card -->
                <div class="stat-card streak-card">
                    <h3><i class="fa-solid fa-fire"></i> <span data-i18n="profile.dash.streak.title">Streak Bilgileri</span></h3>
                    <div class="streak-display">
                        <div class="streak-current">
                            <span class="streak-number">18</span>
                            <span class="streak-text" data-i18n="profile.dash.streak.curr">Mevcut Seri</span>
                        </div>
                        <div class="streak-best">
                            <span class="streak-label" data-i18n="profile.dash.streak.best">En ƒ∞yi Seri:</span>
                            <span class="streak-value">24</span>
                        </div>
                        <div class="streak-visual">
                            <div class="streak-flames">
                                <div class="flame"></div>
                                <div class="flame"></div>
                                <div class="flame"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Recent Matches -->
                <div class="stat-card recent-matches">
                    <h3><i class="fa-solid fa-clock"></i> <span data-i18n="profile.dash.mlast.title">Son Ma√ßlar</span></h3>
                    <div class="matches-list">
                        <div class="match-item win">
                            <div class="match-result">W</div>
                            <div class="match-info">
                                <span class="opponent">NeonKiller</span>
                                <span class="score">11-7</span>
                            </div>
                            <div class="match-time">2 saat √∂nce</div>
                        </div>
                        <div class="match-item win">
                            <div class="match-result">W</div>
                            <div class="match-info">
                                <span class="opponent">PongPro</span>
                                <span class="score">11-9</span>
                            </div>
                            <div class="match-time">5 saat √∂nce</div>
                        </div>
                        <div class="match-item win">
                            <div class="match-result">W</div>
                            <div class="match-info">
                                <span class="opponent">CyberPaddle</span>
                                <span class="score">11-4</span>
                            </div>
                            <div class="match-time">1 g√ºn √∂nce</div>
                        </div>
                        <div class="match-item loss">
                            <div class="match-result">L</div>
                            <div class="match-info">
                                <span class="opponent">TableMaster</span>
                                <span class="score">8-11</span>
                            </div>
                            <div class="match-time">2 g√ºn √∂nce</div>
                        </div>
                    </div>
                </div>
                <!-- Performance Chart -->
                <div class="stat-card chart-card">
                    <h3>
                        <i class="fa-solid fa-cubes"></i>
                        <span data-i18n="profile.dash.wperf.title">Haftalƒ±k Performans</span></h3>
                    <canvas id="performanceChart" data-labels='["Pzt", "Sal", "√áar", "Per", "Cum", "Cmt", "Paz"]' data-values='[4, 6, 3, 9, 7, 5, 8]'></canvas>
                </div>
            </div>
        </section>
        <!-- Statistics Tab -->
        <section id="performance" class="tab-content">
            <div class="stats-grid">
                <!-- Win/Loss Pie Chart -->
                <div class="stat-card">
                    <h3><i class="fa-solid fa-chart-pie"></i> <span data-i18n="profile.perf.winlose.title">Kazanma/Kaybetme Oranƒ±</span></h3>
                    <canvas id="winLossChart" width="300" height="300" data-wins="171" data-losses="63" data-labels='["Kazanƒ±lan", "Kaybedilen"]'></canvas>
                </div>
                <!-- Performance Radar -->
                <div class="stat-card">
                    <div id="skill-data" data-hiz="85" data-dogruluk="92" data-savunma="78" data-saldiri="88" data-strateji="75" data-dayaniklilik="90"></div>
                    <h3><i class="fa-solid fa-gem"></i> <span data-i18n="profile.perf.skills.title">Beceri Analizi</span></h3>
                    <canvas id="skillRadar" width="300" height="300"></canvas>
                </div>
                <!-- Monthly Progress -->
                <div class="stat-card">
                    <h3><i class="fa-solid fa-chart-simple"></i> <span data-i18n="profile.perf.mprog.title">Aylƒ±k ƒ∞lerleme</span></h3>
                    <canvas id="monthlyChart" width="400" height="200"></canvas>
                </div>
                <!-- Detailed Stats -->
                <div class="stat-card detailed-stats">
                    <h3><i class="fa-solid fa-magnifying-glass-chart"></i> <span data-i18n="profile.perf.dstats.title">Detaylƒ± ƒ∞statistikler</span></h3>
                    <div class="stats-table">
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.tpts">Toplam Puan</span>
                            <span class="stat-value">15,420</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.ascore">Ortalama Skor Farkƒ±</span>
                            <span class="stat-value">+3.2</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.mfastest">En Hƒ±zlƒ± Galibiyet</span>
                            <span class="stat-value">2:15</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.mlongest">En Uzun Ma√ß</span>
                            <span class="stat-value">12:34</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Tournaments Tab -->
        <section id="tournaments" class="tab-content">
            <div class="tournaments-header">
                <h3><i class="fa-solid fa-trophy"></i> <span data-i18n="profile.thistory.title">Turnuva Ge√ßmi≈üi</span></h3>
                <div class="tournaments-filters">
                    <select id="tournament-year-filter">
                        <option value="all" selected data-i18n="profile.thistory.allyears">T√ºm Yƒ±llar</option>
                        <option value="2025">2025</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                    </select>
                </div>
            </div>
            <div class="tournament-table" id="tournament-table">
                <div class="tournament-row header">
                    <span data-i18n="profile.thistory.header.tname">Turnuva Adƒ±</span>
                    <span data-i18n="profile.thistory.header.tstart">Ba≈ülangƒ±√ß</span>
                    <span data-i18n="profile.thistory.header.tend">Biti≈ü</span>
                    <span data-i18n="profile.thistory.header.total">Toplam Ma√ß</span>
                </div>
				<!-- Burasƒ± database eklendikten sonra silinecek (BA≈ûLANGI√á) -->
                <div class="tournament-row"
                     data-name="Yaz Turnuvasƒ±"
                     data-start="2025-07-01"
                     data-end="2025-07-15"
                     data-matches="12"
                     data-players='[
                       {"etap":0, "kutu":1, "kazanan":true, "skor":11, "text":"Oyuncu 1"},
                       {"etap":0, "kutu":2, "kazanan":false, "skor":1, "text":"Oyuncu 2"},
                       {"etap":0, "kutu":3, "kazanan":true, "skor":11, "text":"Oyuncu 3"},
                       {"etap":0, "kutu":4, "kazanan":false, "skor":0, "text":"Oyuncu 4"},
                       {"etap":1, "kutu":1, "kazanan":null, "text":"Oyuncu 1"},
                       {"etap":1, "kutu":2, "kazanan":null, "text":"Oyuncu 2"},
                     ]'>
                    <span>Yaz Turnuvasƒ±</span><span>01.07.2025</span><span>15.07.2025</span><span>12</span>
                </div>
                <div class="tournament-row"
                     data-name="Bahar Turnuvasƒ±"
                     data-start="2025-05-20"
                     data-end="2025-06-01"
                     data-matches="33"
                     data-players='[
                       {"etap":0, "kutu":1, "kazanan":true, "skor":11, "text":"Oyuncu 1"},
                       {"etap":0, "kutu":2, "kazanan":false, "skor":1, "text":"Oyuncu 2"},
                       {"etap":0, "kutu":3, "kazanan":true, "skor":11, "text":"Oyuncu 3"},
                       {"etap":0, "kutu":4, "kazanan":false, "skor":0, "text":"Oyuncu 4"},
                       {"etap":0, "kutu":5, "kazanan":false, "skor":0, "text":"Oyuncu 5"},
                       {"etap":0, "kutu":6, "kazanan":true, "skor":0, "text":"Oyuncu 6"},
                       {"etap":0, "kutu":7, "kazanan":false, "skor":0, "text":"Oyuncu 7"},
                       {"etap":0, "kutu":8, "kazanan":true, "skor":0, "text":"Oyuncu 8"},
                       {"etap":1, "kutu":1, "kazanan":null, "text":"Oyuncu 1"},
                       {"etap":1, "kutu":2, "kazanan":null, "text":"Oyuncu 2"},
                       {"etap":1, "kutu":3, "kazanan":null, "text":"Oyuncu 3"},
                       {"etap":1, "kutu":4, "kazanan":null, "text":"Oyuncu 4"}
                     ]'>
                    <span>Kƒ±≈ü Turnuvasƒ±</span><span>20.05.2025</span><span>01.06.2025</span><span>33</span>
                </div>
				<!-- Burasƒ± database eklendikten sonra silinecek (Bƒ∞Tƒ∞≈û) -->
            </div>
			<div id="overlay">
                <div id="turnuva-wrapper">
                    <div id="turnuva"></div>
                    <div id="close-btn">√ó</div>
                </div>
            </div>
        </section>
        <!-- Matches Tab (Birle≈ütirilmi≈ü Ma√ß Ge√ßmi≈üi ve Analizi) -->
        <section id="match_history" class="tab-content">
            <div class="tournaments-header">
                <h3><i class="fa-solid fa-clock-rotate-left"></i> <span data-i18n="profile.mhistory.title">Ma√ß Ge√ßmi≈üi ve Analizi</span></h3>
                <div class="matches-filters">
                    <select id="result-filter">
                        <option value="all" data-i18n="profile.mhistory.opts.alltimes">T√ºm Sonu√ßlar</option>
                        <option value="win" data-i18n="profile.mhistory.opts.onlywon">Sadece Galibiyetler</option>
                        <option value="loss" data-i18n="profile.mhistory.opts.onlylost">Sadece Maƒülubiyetler</option>
                    </select>
                </div>
            </div>
            <div class="match-table">
                <div class="match-row header">
                    <span data-i18n="profile.mhistory.table.date">Tarih</span>
                    <span data-i18n="profile.mhistory.table.match">Rakip</span>
                    <span data-i18n="profile.mhistory.table.score">Skor</span>
                    <span data-i18n="profile.mhistory.table.time">S√ºre</span>
                    <span data-i18n="profile.mhistory.table.result">Sonu√ß</span>
                </div>
                <!-- <div class="match-row" data-result="win" data-match-id="1">
                    <span>28.06.2025 19:30</span>
                    <span>NeonKiller</span>
                    <span>11-7</span>
                    <span>4:23</span>
                    <span class="result win">Galibiyet</span>
                </div>
                <div class="match-row" data-result="win" data-match-id="2">
                    <span>28.07.2025 16:15</span>
                    <span>PongPro</span>
                    <span>11-9</span>
                    <span>6:45</span>
                    <span class="result win">Galibiyet</span>
                </div>
                <div class="match-row" data-result="win" data-match-id="3">
                    <span>27.06.2025 20:00</span>
                    <span>CyberPaddle</span>
                    <span>11-4</span>
                    <span>3:12</span>
                    <span class="result win">Galibiyet</span>
                </div>
                <div class="match-row" data-result="loss" data-match-id="4">
                    <span>26.07.2025 18:30</span>
                    <span>TableMaster</span>
                    <span>8-11</span>
                    <span>7:28</span>
                    <span class="result loss">Maƒülubiyet</span>
                </div>
            </div> -->
            <div id="match-overlay" class="hide-away">
                <div class="match-card"></div>
	            <div id="match-card-exit" class="profile-close">
		            <svg class="profile-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576zM231 231C240.4 221.6 255.6 221.6 264.9 231L319.9 286L374.9 231C384.3 221.6 399.5 221.6 408.8 231C418.1 240.4 418.2 255.6 408.8 264.9L353.8 319.9L408.8 374.9C418.2 384.3 418.2 399.5 408.8 408.8C399.4 418.1 384.2 418.2 374.9 408.8L319.9 353.8L264.9 408.8C255.5 418.2 240.3 418.2 231 408.8C221.7 399.4 221.6 384.2 231 374.9L286 319.9L231 264.9C221.6 255.5 221.6 240.3 231 231z"/></svg>
	            </div>
            </div>
        </section>
        <!-- Ma√ß Analizi Popup -->

        <!-- Achievements Tab -->
        <section id="achievements" class="tab-content">
            <div class="achievements-grid" class="stats-grid">
                <div class="achievement-card locked" data-achievement="firstWin">
                    <div class="achievement-icon">üèÜ</div>
                    <h4 data-i18n="profile.achiev.fwin.title">ƒ∞lk Galibiyet</h4>
                    <p class="passive" data-i18n="profile.achiev.fwin.passive">Win your first match</p>
                    <p class="active" data-i18n="profile.achiev.fwin.active">You won your first match!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="firstTenStreak">
                    <div class="achievement-icon">üî•</div>
                    <h4 data-i18n="profile.achiev.smaster.title">Streak Master</h4>
                    <p class="passive" data-i18n="profile.achiev.smaster.passive">Win 10 matches in a row</p>
                    <p class="active" data-i18n="profile.achiev.smaster.active">You won 10 matches in a row!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="lessThanThreeMin">
                    <div class="achievement-icon">‚ö°</div>
                    <h4 data-i18n="profile.achiev.swin.title">Hƒ±zlƒ± Galibiyet</h4>
                    <p class="passive" data-i18n="profile.achiev.swin.passive">Win in less than 3 minutes</p>
                    <p class="active" data-i18n="profile.achiev.swin.active">You won in less than 3 minutes!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="hundredWins">
                    <div class="achievement-icon">üëë</div>
                    <h4 data-i18n="profile.achiev.nking.title">Neon Kralƒ±</h4>
                    <p class="passive" data-i18n="profile.achiev.nking.passive">Win 100 matches</p>
                    <p class="active" data-i18n="profile.achiev.nking.active">You won 100 matches!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="twentyFiveTenStreak">
                    <div class="achievement-icon">üéØ</div>
                    <h4 data-i18n="profile.achiev.pserie.title">M√ºkemmel Seri</h4>
                    <p class="passive" data-i18n="profile.achiev.pserie.passive">Win 25 matches in a row</p>
                    <p class="active" data-i18n="profile.achiev.pserie.active">You won 25 matches in a row!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="fiveHundredWins">
                    <div class="achievement-icon">üíé</div>
                    <h4 data-i18n="profile.achiev.lplayer.title">Efsane Oyuncu</h4>
                    <p class="passive" data-i18n="profile.achiev.lplayer.passive">Play 500 matches</p>
                    <p class="active" data-i18n="profile.achiev.lplayer.active">You played 500 matches!</p>
                    <div class="achievement-date"></div>
                </div>
            </div>
        </section>
    </main>
</div>
