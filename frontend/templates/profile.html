<div onload="onLoad()" class="profile-container">
    <!-- Header -->
    <header class="profile-header">
        <div class="header-content">
            <div class="user-avatar">
                <div class="avatar">
                    <img src="../profile.svg" alt="Default User Avatar">
                </div>
            </div>
            <div class="user-info">
                <h1 class="user-title"></h1>
                <p class="username"></p>
                <div class="user-level">
                    <span class="level-text" data-i18n="profile.header.level">Level</span>
                    <span class="level-text" id="level-value">1</span>
                    <div class="level-bar">
                        <div class="level-progress" data-progress></div>
                    </div>
                </div>
            </div>
            <div class="header-stats">
                <div class="stat-item">
                     <div class="tooltip-container">
                        <i class="fa-solid fa-fire gradient-icon"></i>
                        <div class="tooltip-popup" data-i18n="profile.streak.curr">Current Streak</div>
                    </div>
                    <span id="current-streak" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <div class="tooltip-container">
                        <i class="fa-solid fa-gamepad gradient-icon"></i>
                        <div class="tooltip-popup" data-i18n="profile.header.tgames">Total Games</div>
                    </div>
                    <span id="total-games" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                        <div class="tooltip-container">
                            <i class="fa-solid fa-medal gradient-icon"></i>
                        <div class="tooltip-popup" data-i18n="profile.header.winrate">Win Rate</div>
                    </div>
                        <span id="win-rate" class="stat-value">0%</span>
                </div>
            </div>
        </div>
    </header>
    <!-- Navigation -->
    <div class="profile-nav">
        <button class="tab-btn" data-tab="overview"><i class="fa-solid fa-grip-vertical"></i> <span data-i18n="profile.sections.dashboard">Dashboard</span> <span class="btn-glow"></span></button>
        <button class="tab-btn" data-tab="performance"><i class="fa-solid fa-chart-line"></i> <span data-i18n="profile.sections.performance">Performans</span> <span class="btn-glow"></span></button>
        <button class="tab-btn" data-tab="tournaments"><i class="fa-solid fa-trophy"></i> <span data-i18n="profile.sections.thishtory">Turnuva Ge√ßmi≈üi</span> <span class="btn-glow"></span></button>
        <button class="tab-btn active" data-tab="match_history"><i class="fa-solid fa-clock-rotate-left"></i> <span data-i18n="profile.sections.mhistory">Ma√ß Ge√ßmi≈üi</span> <span class="btn-glow"></span></button>
        <button class="tab-btn" data-tab="achievements"><i class="fa-solid fa-star"></i> <span data-i18n="profile.sections.achievements">Achievements</span> <span class="btn-glow"></span></button>
    </div>
    <!-- Content Tabs -->
    <main class="profile-content">
        <!-- Overview Tab -->
        <section id="overview" class="tab-content">
            <div class="stats-grid">
                <!-- Performance Cards -->
                <div class="stat-card performance-card">
                    <h3><i class="fa-solid fa-bullseye"></i> <span data-i18n="profile.dash.psum.title">Performans √ñzeti</span></h3>
                    <div class="performance-stats">
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.mwon">Kazanƒ±lan Ma√ßlar</span>
                            <span id="mwon" class="perf-value win">0</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.mlose">Kaybedilen Ma√ßlar</span>
                            <span id="mlost" class="perf-value loss">0</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.mdur">Ortalama Ma√ß S√ºresi</span>
                            <span id="mdur-average" class="perf-value">0:0</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label" data-i18n="profile.dash.psum.gdur">Toplam Oyun S√ºresi</span>
                            <span id="total-play-time" class="perf-value">0:0</span>
                        </div>
                    </div>
                </div>
                <!-- Streak Card -->
                <div class="stat-card streak-card">
                    <h3><i class="fa-solid fa-fire"></i> <span data-i18n="profile.dash.streak.title">Streak Bilgileri</span></h3>
                    <div class="streak-display">
                        <div class="streak-current">
                            <span class="streak-number">0</span>
                            <span class="streak-text" data-i18n="profile.dash.streak.curr">Mevcut Seri</span>
                        </div>
                        <div class="streak-best">
                            <span class="streak-label" data-i18n="profile.dash.streak.best">En ƒ∞yi Seri:</span>
                            <span class="streak-value">0</span>
                        </div>
                        <div class="streak-visual">
                            <div class="streak-flames">
                                <div class="flame"></div>
                                <div class="flame"></div>
                                <div class="flame"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Recent Matches -->
                <div class="stat-card recent-matches">
                    <h3><i class="fa-solid fa-clock"></i><span data-i18n="profile.dash.mlast.title">Son Ma√ßlar</span></h3>
                    <div class="matches-list"></div>
                </div>
                <!-- Performance Chart -->
                <div class="stat-card chart-card">
                    <h3><i class="fa-solid fa-cubes"></i><span data-i18n="profile.dash.wperf.title">Haftalƒ±k Performans</span></h3>
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </section>
        <!-- Statistics Tab -->
        <section id="performance" class="tab-content">
            <div class="stats-grid">
                <!-- Win/Loss Pie Chart -->
                <div class="stat-card">
                    <h3><i class="fa-solid fa-chart-pie"></i> <span data-i18n="profile.perf.winlose.title">Kazanma/Kaybetme Oranƒ±</span></h3>
                    <canvas id="winLossChart" width="300" height="300"></canvas>
                </div>
                <!-- Performance Radar -->
                <div class="stat-card">
                    <h3><i class="fa-solid fa-gem"></i> <span data-i18n="profile.perf.skills.title">Beceri Analizi</span></h3>
                    <canvas id="skillRadar" width="300" height="300"></canvas>
                </div>
                <!-- Monthly Progress -->
                <div class="stat-card">
                    <h3><i class="fa-solid fa-chart-simple"></i> <span data-i18n="profile.perf.mprog.title">Top ƒ∞statistikleri</span></h3>
                    <canvas id="monthlyChart" width="200" height="200"></canvas>
                </div>
                <!-- Detailed Stats -->
                <div class="stat-card detailed-stats">
                    <h3><i class="fa-solid fa-magnifying-glass-chart"></i> <span data-i18n="profile.perf.dstats.title">Detaylƒ± ƒ∞statistikler</span></h3>
                    <div class="stats-table">
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.tpts">Toplam Puan</span>
                            <span id="xp_point" class="stats-value">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.ascore">ƒ∞sabet Oranƒ±</span>
                            <span id="hit_rate" class="stats-value">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.mfastest">En Hƒ±zlƒ± Galibiyet</span>
                            <span id="mfastest" class="stats-value">0:00</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-name" data-i18n="profile.perf.dstats.mlongest">En Uzun Ma√ß</span>
                            <span id="mlongest" class="stats-value">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Tournaments Tab -->
        <section id="tournaments" class="tab-content">
            <div class="tournaments-header">
                <h3><i class="fa-solid fa-trophy"></i> <span data-i18n="profile.thistory.title">Turnuva Ge√ßmi≈üi</span></h3>
                <div class="tournaments-filters">
                    <select id="tournament-year-filter">
                        <option value="all" selected data-i18n="profile.thistory.allyears">T√ºm Yƒ±llar</option>
                        <option value="2025">2025</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                    </select>
                </div>
            </div>
            <div class="tournament-table" id="tournament-table">
                <div class="tournament-row header">
                    <span data-i18n="profile.thistory.header.tname">Turnuva Adƒ±</span>
                    <span data-i18n="profile.thistory.header.tstart">Ba≈ülangƒ±√ß</span>
                    <span data-i18n="profile.thistory.header.tend">Biti≈ü</span>
                    <span data-i18n="profile.thistory.header.total">Toplam Ma√ß</span>
                </div>
				<!-- Burasƒ± database eklendikten sonra silinecek (BA≈ûLANGI√á) -->
                <div class="tournament-row"
                     data-name="Yaz Turnuvasƒ±"
                     data-start="2025-07-01"
                     data-end="2025-07-15"
                     data-matches="12"
                     data-players='[
                       {"etap":0, "kutu":1, "kazanan":true, "skor":11, "text":"Oyuncu 1"},
                       {"etap":0, "kutu":2, "kazanan":false, "skor":1, "text":"Oyuncu 2"},
                       {"etap":0, "kutu":3, "kazanan":true, "skor":11, "text":"Oyuncu 3"},
                       {"etap":0, "kutu":4, "kazanan":false, "skor":0, "text":"Oyuncu 4"},
                       {"etap":1, "kutu":1, "kazanan":null, "text":"Oyuncu 1"},
                       {"etap":1, "kutu":2, "kazanan":null, "text":"Oyuncu 2"},
                     ]'>
                    <span>Yaz Turnuvasƒ±</span><span>01.07.2025</span><span>15.07.2025</span><span>12</span>
                </div>
                <div class="tournament-row"
                     data-name="Bahar Turnuvasƒ±"
                     data-start="2025-05-20"
                     data-end="2025-06-01"
                     data-matches="33"
                     data-players='[
                       {"etap":0, "kutu":1, "kazanan":true, "skor":11, "text":"Oyuncu 1"},
                       {"etap":0, "kutu":2, "kazanan":false, "skor":1, "text":"Oyuncu 2"},
                       {"etap":0, "kutu":3, "kazanan":true, "skor":11, "text":"Oyuncu 3"},
                       {"etap":0, "kutu":4, "kazanan":false, "skor":0, "text":"Oyuncu 4"},
                       {"etap":0, "kutu":5, "kazanan":false, "skor":0, "text":"Oyuncu 5"},
                       {"etap":0, "kutu":6, "kazanan":true, "skor":0, "text":"Oyuncu 6"},
                       {"etap":0, "kutu":7, "kazanan":false, "skor":0, "text":"Oyuncu 7"},
                       {"etap":0, "kutu":8, "kazanan":true, "skor":0, "text":"Oyuncu 8"},
                       {"etap":1, "kutu":1, "kazanan":null, "text":"Oyuncu 1"},
                       {"etap":1, "kutu":2, "kazanan":null, "text":"Oyuncu 2"},
                       {"etap":1, "kutu":3, "kazanan":null, "text":"Oyuncu 3"},
                       {"etap":1, "kutu":4, "kazanan":null, "text":"Oyuncu 4"}
                     ]'>
                    <span>Kƒ±≈ü Turnuvasƒ±</span><span>20.05.2025</span><span>01.06.2025</span><span>33</span>
                </div>
				<!-- Burasƒ± database eklendikten sonra silinecek (Bƒ∞Tƒ∞≈û) -->
            </div>
			<div id="overlay">
                <div id="turnuva-wrapper">
                    <div id="turnuva"></div>
                    <div id="close-btn">√ó</div>
                </div>
            </div>
        </section>
        <!-- Matches Tab (Birle≈ütirilmi≈ü Ma√ß Ge√ßmi≈üi ve Analizi) -->
        <section id="match_history" class="tab-content active">
            <div class="tournaments-header">
                <h3><i class="fa-solid fa-clock-rotate-left"></i> <span data-i18n="profile.mhistory.title">Ma√ß Ge√ßmi≈üi ve Analizi</span></h3>
                <div class="matches-filters">
                    <select id="result-filter">
                        <option value="all" data-i18n="profile.mhistory.opts.alltimes">T√ºm Sonu√ßlar</option>
                        <option value="win" data-i18n="profile.mhistory.opts.onlywon">Sadece Galibiyetler</option>
                        <option value="loss" data-i18n="profile.mhistory.opts.onlylost">Sadece Maƒülubiyetler</option>
                    </select>
                </div>
            </div>
            <div class="match-table">
                <div class="match-row header">
                    <span data-i18n="profile.mhistory.table.date">Tarih</span>
                    <span data-i18n="profile.mhistory.table.match">Rakip</span>
                    <span data-i18n="profile.mhistory.table.score">Skor</span>
                    <span data-i18n="profile.mhistory.table.time">S√ºre</span>
                    <span data-i18n="profile.mhistory.table.result">Sonu√ß</span>
                </div>
            </div>

            <!-- Match Details Overlay -->
            <div id="match-overlay" class="hide-away">
                <div class="match-card">
                    <div id="match-card-exit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576zM231 231C240.4 221.6 255.6 221.6 264.9 231L319.9 286L374.9 231C384.3 221.6 399.5 221.6 408.8 231C418.1 240.4 418.2 255.6 408.8 264.9L353.8 319.9L408.8 374.9C418.2 384.3 418.2 399.5 408.8 408.8C399.4 418.1 384.2 418.2 374.9 408.8L319.9 353.8L264.9 408.8C255.5 418.2 240.3 418.2 231 408.8C221.7 399.4 221.6 384.2 231 374.9L286 319.9L231 264.9C221.6 255.5 221.6 240.3 231 231z"/></svg>
                    </div>

                    <div class="match-overlay-content">
                        <!-- Header -->
                        <div class="match-details-header">
                            <h2 class="match-details-title" data-i18n="profile.mhistory.overlay.title">Ma√ß Detaylarƒ±</h2>
                            <div class="match-meta">
                                <span class="match-date"></span>
                                <span class="match-time"></span>
                            </div>
                        </div>

                        <!-- Teams Comparison -->
                        <div class="teams-container">
                            <!-- Team One (User) -->
                            <div class="team-section team-one">
                                <div class="team-header">
                                    <h3 data-i18n="profile.mhistory.overlay.yourteam">Siz</h3>
                                </div>
                                <div class="team-players"></div>
                                <div class="team-score">
                                    <span class="score-label" data-i18n="profile.mhistory.overlay.score">Skor</span>
                                    <span class="score-value">0</span>
                                </div>
                            </div>

                            <!-- VS Divider -->
                            <div class="vs-divider">
                                <span>VS</span>
                            </div>

                            <!-- Team Two (Opponent) -->
                            <div class="team-section team-two">
                                <div class="team-header">
                                    <h3 data-i18n="profile.mhistory.overlay.opponent">Rakip</h3>
                                </div>
                                <div class="team-players"></div>
                                <div class="team-score">
                                    <span class="score-label" data-i18n="profile.mhistory.overlay.score">Skor</span>
                                    <span class="score-value">0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Match Result -->
                        <div class="match-result-section">
                            <div class="result-badge">
                                <span class="result-text"></span>
                            </div>
                        </div>

                        <!-- Match Statistics -->
                        <div class="match-stats-grid">
                            <!-- Duration -->
                            <div class="stat-box">
                                <div class="stat-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                        <path d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label" data-i18n="profile.mhistory.overlay.duration">S√ºre</span>
                                    <span class="status-value match-duration">0:00</span>
                                </div>
                            </div>

                            <!-- Match Type Detail -->
                            <div class="stat-box">
                                <div class="stat-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                        <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label" data-i18n="profile.mhistory.overlay.gamemode">Oyun Modu</span>
                                    <span class="status-value match-type-text" data-i18n="profile.mhistory.overlay.gametype">Classic</span>
                                </div>
                            </div>

                            <!-- Ball Hit -->
                            <div class="stat-box">
                                <div class="stat-icon success">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                        <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label" data-i18n="profile.mhistory.overlay.ballhit">Topa Vurma</span>
                                    <span class="status-value ball-hit">0</span>
                                </div>
                            </div>

                            <!-- Ball Miss -->
                            <div class="stat-box">
                                <div class="stat-icon error">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                        <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-label" data-i18n="profile.mhistory.overlay.ballmiss">Iskalama</span>
                                    <span class="status-value ball-miss">0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Match Settings -->
                        <div class="match-settings-section">
                            <h3 class="settings-title" data-i18n="profile.mhistory.overlay.settings">Ma√ß Ayarlarƒ±</h3>
                            <div class="settings-grid">
                                <div class="setting-item">
                                    <span class="setting-label" data-i18n="profile.mhistory.overlay.ballradius">Top Yarƒ±√ßapƒ±</span>
                                    <span class="setting-value ball-radius">-</span>
                                </div>
                                <div class="setting-item">
                                    <span class="setting-label" data-i18n="profile.mhistory.overlay.paddleheight">Raket Y√ºksekliƒüi</span>
                                    <span class="setting-value paddle-height">-</span>
                                </div>
                                <div class="setting-item">
                                    <span class="setting-label" data-i18n="profile.mhistory.overlay.cornerspeed">K√∂≈üe √áarpma Hƒ±zlanmasƒ±</span>
                                    <span class="setting-value ball-speed">-</span>
                                </div>
                                <div class="setting-item">
                                    <span class="setting-label" data-i18n="profile.mhistory.overlay.winningscore">Biti≈ü Skoru</span>
                                    <span class="setting-value max-score">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Achievements Tab -->
        <section id="achievements" class="tab-content">
            <div class="achievements-grid" class="stats-grid">
                <div class="achievement-card locked" data-achievement="firstWin">
                    <div class="achievement-icon">üèÜ</div>
                    <h4 data-i18n="profile.achiev.fwin.title">ƒ∞lk Galibiyet</h4>
                    <p class="passive" data-i18n="profile.achiev.fwin.passive">Win your first match</p>
                    <p class="active" data-i18n="profile.achiev.fwin.active">You won your first match!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="firstTenStreak">
                    <div class="achievement-icon">üî•</div>
                    <h4 data-i18n="profile.achiev.smaster.title">Streak Master</h4>
                    <p class="passive" data-i18n="profile.achiev.smaster.passive">Win 10 matches in a row</p>
                    <p class="active" data-i18n="profile.achiev.smaster.active">You won 10 matches in a row!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="lessThanThreeMin">
                    <div class="achievement-icon">‚ö°</div>
                    <h4 data-i18n="profile.achiev.swin.title">Hƒ±zlƒ± Galibiyet</h4>
                    <p class="passive" data-i18n="profile.achiev.swin.passive">Win in less than 3 minutes</p>
                    <p class="active" data-i18n="profile.achiev.swin.active">You won in less than 3 minutes!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="hundredWins">
                    <div class="achievement-icon">üëë</div>
                    <h4 data-i18n="profile.achiev.nking.title">Neon Kralƒ±</h4>
                    <p class="passive" data-i18n="profile.achiev.nking.passive">Win 100 matches</p>
                    <p class="active" data-i18n="profile.achiev.nking.active">You won 100 matches!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="twentyFiveTenStreak">
                    <div class="achievement-icon">üéØ</div>
                    <h4 data-i18n="profile.achiev.pserie.title">M√ºkemmel Seri</h4>
                    <p class="passive" data-i18n="profile.achiev.pserie.passive">Win 25 matches in a row</p>
                    <p class="active" data-i18n="profile.achiev.pserie.active">You won 25 matches in a row!</p>
                    <div class="achievement-date"></div>
                </div>
                <div class="achievement-card locked" data-achievement="fiveHundredWins">
                    <div class="achievement-icon">üíé</div>
                    <h4 data-i18n="profile.achiev.lplayer.title">Efsane Oyuncu</h4>
                    <p class="passive" data-i18n="profile.achiev.lplayer.passive">Play 500 matches</p>
                    <p class="active" data-i18n="profile.achiev.lplayer.active">You played 500 matches!</p>
                    <div class="achievement-date"></div>
                </div>
            </div>
        </section>
    </main>
</div>
